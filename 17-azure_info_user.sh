#!/bin/bash

# Function to check if an Azure session is active
check_session() {
    az account show &> /dev/null
    if [ $? -eq 0 ]; then
        echo "An active Azure session is already present."
        display_session_info
    else
        echo "No active Azure session found."
        display_login_options
    fi
}

# Function to display Azure login options
display_login_options() {
    echo "Please choose one of the login options below:"
    echo "-------------------------------------------"
    echo "1. Log in using a device code (browser-based login):"
    echo "   az login --use-device-code"
    echo
    echo "2. Log in with a username and password:"
    echo "   az login -u  -p "
}

# Function to display information about the current session
display_session_info() {
    echo "Current account information:"
    az account show
    echo

}

# Main script execution
check_session
