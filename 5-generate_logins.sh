#!/bin/bash

# Check if name and domain are provided
if [ -z "$1" ] || [ -z "$2" ] || [ -z "$3" ]; then
  echo "Usage: $0 <first_name> <last_name> <domain>"
  exit 1
fi

FIRST_NAME=$1
LAST_NAME=$2
DOMAIN=$3

# Define the destination file path
DESTINATION_FILE="./5/${DOMAIN}_logins.txt"

# Create the folder ./5 if it doesn't exist
mkdir -p ./5

# Run the Python script (it generates the wordlist in /opt/pentestcloud/uwg/ with custom filename)
python3 /opt/pentestcloud/uwg/main.py -n "$FIRST_NAME $LAST_NAME" -d "$DOMAIN" -o "$DESTINATION_FILE"

# Check if the destination file was created
if [ -f "$DESTINATION_FILE" ]; then
  echo "Login list generated and saved to $DESTINATION_FILE"
else
  echo "Wordlist was not generated or an error occurred."
fi
