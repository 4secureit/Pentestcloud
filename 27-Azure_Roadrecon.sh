#!/bin/bash

# Function to prompt for login credentials
get_credentials() {
  read -p "Enter your login: " USER_LOGIN
  read -sp "Enter your password: " USER_PASSWORD
  echo
}

# Function to check if folder exists, if not create it
create_output_folder() {
  OUTPUT_DIR="./27"
  if [ ! -d "$OUTPUT_DIR" ]; then
    mkdir -p "$OUTPUT_DIR"
  fi
}

# Function to run roadrecon commands
run_roadrecon() {
  # Authenticate with roadrecon
  roadrecon auth -u "$USER_LOGIN" -p "$USER_PASSWORD" | tee "$OUTPUT_DIR/auth_output.txt"

  # Gather information with roadrecon
  roadrecon gather | tee "$OUTPUT_DIR/gather_output.txt"

  # Start the roadrecon GUI
  roadrecon gui & disown
}

# Main script execution
create_output_folder
get_credentials
run_roadrecon
